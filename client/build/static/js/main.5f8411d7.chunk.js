(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{287:function(e,t,a){e.exports=a(620)},292:function(e,t,a){},293:function(e,t,a){},620:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),l=a.n(o),i=(a(292),a(293),a(58)),c=a(675),s=a(674),m=a(658),u=a(681),d=a(662),h=a(621),p=a(622),g=a(271),E=a.n(g),f=a(273),b=a.n(f),v=Object(m.a)((function(e){return Object(u.a)({root:{padding:10,borderWidth:2}})})),y=function(e){var t=v(),a=null;return e.upIcon?a=r.a.createElement(E.a,null):e.downIcon&&(a=r.a.createElement(b.a,null)),r.a.createElement(d.a,{item:!0,xs:12,sm:!0},r.a.createElement(h.a,{elevation:6,className:t.root},r.a.createElement(p.a,{variant:"subtitle1"},e.title),r.a.createElement(d.a,{container:!0,justify:"space-between"},r.a.createElement(d.a,{item:!0},r.a.createElement(p.a,{variant:"h4"},e.number)),r.a.createElement(d.a,{item:!0},r.a.createElement(p.a,{variant:"body2",style:{paddingTop:17}},r.a.createElement("span",{style:{color:e.rateColor}},e.rate),e.rateText),a))))},x=a(274),C=function e(){Object(x.a)(this,e)};C.casesColor="#69b2f8",C.hospColor="#fec85e",C.deathsColor="#C12626",C.pinkColor="#f77eb9",C.greenColor="#41B3A3";var S=function(e){for(var t=parseInt(e.toString()),a=[];t>1e3;)a.push(t%1e3),t=Math.floor(t/1e3);return a.push(t),a.reverse().join()},D=function(e){var t=e.summaryData,a=t.cases,n=t.increase,o=t.hospitalized,l=t.deaths,i=function(e,t){return(t/e*100).toFixed(1)},c=i(parseFloat(a),parseFloat(o)),s=i(parseFloat(a),parseFloat(l)),m=parseInt(n),u="0";return m>0?u="+ ".concat(S(m)):m<0&&(u="- ".concat(S(m))),r.a.createElement(d.a,{container:!0,spacing:6},r.a.createElement(y,{title:"TOTAL CASES",number:S(a),rate:u,rateText:" cases",rateColor:parseInt(n)>0?C.pinkColor:C.greenColor}),r.a.createElement(y,{title:"HOSPITALIZED",number:S(o),rate:"".concat(c,"%"),rateText:" of total cases",rateColor:C.hospColor}),r.a.createElement(y,{title:"DECEASED",number:S(l),rate:"".concat(s,"%"),rateText:" of total cases",rateColor:C.deathsColor}))},O=a(682),j=a(275),w=a.n(j),k=a(128),N=a.n(k),T=Object(m.a)((function(e){return Object(u.a)({root:{flexGrow:1,marginTop:e.spacing(4),marginBottom:e.spacing(4)},title:{marginTop:20},date:{padding:10,borderWidth:2},icon:{marginRight:10}})})),z=function(e){var t=T();return r.a.createElement(d.a,{container:!0,spacing:4,className:t.root},r.a.createElement(d.a,{item:!0,xs:12,sm:9,className:t.title},r.a.createElement(p.a,{variant:"h5"},"Dashboard of the COVID-19 Virus Outbreak in ",e.name),r.a.createElement(O.a,{color:"default",icon:r.a.createElement(N.a,null),size:"small",label:"Data source: ".concat(e.datasource),component:"a",href:e.link,clickable:!0})),r.a.createElement(d.a,{item:!0,xs:12,sm:3},r.a.createElement(h.a,{variant:"outlined",className:t.date},r.a.createElement(p.a,{variant:"subtitle1"},"Last updated at:"),r.a.createElement(p.a,{variant:"subtitle1"},r.a.createElement(w.a,{fontSize:"small",className:t.icon}),e.lastUpdated))))},I=a(663),A=a(664),W=a(680),_=a(667),L=a(668),P=a(669),F=a(670),M=a(671),B=a(672),G=a(679),R=a(277),H=a.n(R),Z=a(276),U=a.n(Z),Y=function(e){var t=null;return""!==e.search&&(t=r.a.createElement(I.a,{position:"end"},r.a.createElement(A.a,{onClick:e.onClick},r.a.createElement(U.a,{color:"disabled"})))),r.a.createElement(d.a,{container:!0},r.a.createElement(d.a,{item:!0,xs:12,sm:7},r.a.createElement(p.a,{variant:"h6",component:"div",style:{flex:"1 1 90%"}},r.a.createElement("strong",null,e.title))),r.a.createElement(d.a,{item:!0,xs:12,sm:5,component:"div",style:{textAlign:"right"}},r.a.createElement(W.a,{value:e.search,onChange:e.onSearchChange,id:"input-search",placeholder:e.placeholder,InputProps:{startAdornment:r.a.createElement(I.a,{position:"start"},r.a.createElement(H.a,null)),endAdornment:t}})))},J=function(e){var t=e.testingData,a=Object(n.useState)(""),o=Object(i.a)(a,2),l=o[0],c=o[1],s=Object(n.useState)(0),m=Object(i.a)(s,2),u=m[0],d=m[1],p=r.a.useState(5),g=Object(i.a)(p,2),E=g[0],f=g[1],b=r.a.useState(t),v=Object(i.a)(b,2),y=v[0],x=v[1],C=E-Math.min(E,y.length-u*E);return r.a.createElement(h.a,{variant:"outlined",style:{marginTop:10,padding:30}},r.a.createElement(Y,{title:"Daily Tested Cases by Zip Code",search:l,onSearchChange:function(e){var a=e.target?e.target.value:"",n=t.filter((function(e){return!a||e[0].indexOf(a)>=0}));c(a),x(n),d(0)},placeholder:"Enter Zip Code",onClick:function(){c(""),x(t)}}),r.a.createElement(_.a,null,r.a.createElement(L.a,{style:{marginTop:20}},r.a.createElement(P.a,null,r.a.createElement(F.a,null,r.a.createElement(M.a,{variant:"head",align:"right",style:{fontSize:16}},r.a.createElement("strong",null,"Zip Code")),r.a.createElement(M.a,{variant:"head",align:"right",style:{fontSize:16}},r.a.createElement("strong",null,"Positive Cases")),r.a.createElement(M.a,{variant:"head",align:"right",style:{fontSize:16}},r.a.createElement("strong",null,"Tested Cases")),r.a.createElement(M.a,{variant:"head",align:"right",style:{fontSize:16}},r.a.createElement("strong",null,"Positive Rate")))),r.a.createElement(B.a,null,y.slice(u*E,u*E+E).map((function(e){return r.a.createElement(F.a,{key:e[0]},r.a.createElement(M.a,{component:"th",scope:"row",align:"right",style:{fontSize:17}},e[0]),r.a.createElement(M.a,{align:"right",style:{fontSize:17}},e[1]),r.a.createElement(M.a,{align:"right",style:{fontSize:17}},e[2]),r.a.createElement(M.a,{align:"right",style:{fontSize:17}},e[3],"%"))})),C>0&&r.a.createElement(F.a,{style:{height:57*C}},r.a.createElement(M.a,{colSpan:6}))))),r.a.createElement(G.a,{rowsPerPageOptions:[5,10,25],component:"div",count:y.length,rowsPerPage:E,page:u,onChangePage:function(e,t){d(t)},onChangeRowsPerPage:function(e){f(parseInt(e.target.value,10)),d(0)}}))},V=a(84),$=a.n(V),q=Object(m.a)((function(e){return Object(u.a)({root:{marginTop:50},chip_container:{textAlign:"end"},chart:{marginTop:5,padding:20}})})),K=function(e){var t=[],a=[],n=[],o=[];e.dailyData.forEach((function(e){t.push(e[0]),a.push(""!==e[1]?parseInt(e[1]):0),n.push(""!==e[2]?parseInt(e[2]):0),o.push(""!==e[3]?parseInt(e[3]):0)}));var l=q();return r.a.createElement("div",{className:l.root},r.a.createElement("div",{className:l.chip_container},r.a.createElement(O.a,{color:"secondary",variant:"outlined",icon:r.a.createElement(N.a,null),size:"small",label:"Due to delays in reporting, recent data are incomplete."})),r.a.createElement(h.a,{variant:"outlined",className:l.chart},r.a.createElement($.a,{option:{title:{text:"Daily Count",subtext:"Number of increases everyday"},tooltip:{trigger:"axis"},legend:{data:["Cases","Hospitalized","Deaths"],icon:"roundRect",left:"65%"},grid:{top:"25%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t},yAxis:{type:"value"},series:[{name:"Cases",type:"line",smooth:!0,lineStyle:{color:C.casesColor},itemStyle:{color:C.casesColor},data:a},{name:"Hospitalized",type:"line",smooth:!0,lineStyle:{color:C.hospColor},itemStyle:{color:C.hospColor},data:n},{name:"Deaths",type:"line",smooth:!0,lineStyle:{color:C.deathsColor},itemStyle:{color:C.deathsColor},data:o}]}})))},Q=Object(m.a)((function(e){return Object(u.a)({chart:{padding:20}})})),X=function(e){var t=e.genderData,a=Q();return r.a.createElement("div",null,r.a.createElement(h.a,{variant:"outlined",className:a.chart},r.a.createElement($.a,{option:{title:{text:"Rate by Gender"},legend:{data:["Female","Male"],left:"73%"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:["Deaths","Hospitalized","Total"],axisLabel:{interval:0,rotate:90,textStyle:{baseline:"bottom",color:"#333",fontSize:11,fontWeight:"bold"}},axisLine:{lineStyle:{color:"#aaa"},show:!0},axisTick:{show:!1},splitLine:{show:!1}},series:[{name:"Female",type:"bar",stack:"total",label:{show:!0,position:"inside",fontWeight:"bold",formatter:function(e){var t=-1*Number(e.value);return"".concat(t.toFixed(1),"%")}},itemStyle:{color:C.pinkColor},barMaxWidth:"45%",data:[-t.death[0],-t.hospitalized[0],-t.cases[0]]},{name:"Male",type:"bar",stack:"total",label:{show:!0,position:"inside",fontWeight:"bold",formatter:function(e){return"".concat(Number(e.value).toFixed(1),"%")}},itemStyle:{color:C.casesColor},data:[t.death[1],t.hospitalized[1],t.cases[1]]}]}})))},ee=Object(m.a)((function(e){return Object(u.a)({chart:{padding:20}})})),te=function(e){var t=ee();return r.a.createElement("div",null,r.a.createElement(h.a,{variant:"outlined",className:t.chart},r.a.createElement($.a,{option:function(){var t=[],a=[];return e.boroData.forEach((function(e){t.push(e[0]),a.push(parseInt(e[1]))})),{title:{text:"Borough Cases",subtext:"Total cases of each borough"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:t,axisLabel:{interval:0,textStyle:{baseline:"top",color:"#333",fontSize:11,fontWeight:"bold"}},axisLine:{lineStyle:{color:"#aaa"},show:!0},axisTick:{show:!1},splitLine:{show:!1}},yAxis:{type:"value"},series:[{name:"Count",type:"bar",label:{show:!0,position:"top",fontWeight:"bold",color:"black"},itemStyle:{color:C.casesColor},barMaxWidth:"45%",data:a}]}}()})))},ae=function(e){return r.a.createElement(d.a,{container:!0,spacing:1,style:{marginTop:3}},r.a.createElement(d.a,{item:!0,xs:12,sm:12,md:5},r.a.createElement(X,{genderData:e.genderData})),r.a.createElement(d.a,{item:!0,xs:12,sm:12,md:7},r.a.createElement(te,{boroData:e.boroData})))},ne=a(278),re=a.n(ne),oe=Object(m.a)((function(e){return Object(u.a)({error_image_overlay:{height:"60vh",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},error_image_container:{display:"inline-block",backgroundImage:'url("https://i.imgur.com/yW2W9SC.png")',backgroundSize:"cover",backgroundPosition:"center",width:"40vh",height:"40vh"},error_image_text:{fontSize:"28px",color:"#2f8e89"}})})),le=function(){var e=oe();return r.a.createElement("div",{className:e.error_image_overlay},r.a.createElement("div",{className:e.error_image_container}),r.a.createElement("h2",{className:e.error_image_text},"Sorry, this page is broken"))},ie=a(676),ce=Object(m.a)((function(e){return Object(u.a)({spinner:{height:"60vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})})),se=function(){var e=ce(),t=Object(n.useState)(),a=Object(i.a)(t,2),o=a[0],l=a[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],h=u[1];if(Object(n.useEffect)((function(){re()({url:"data",method:"GET"}).then((function(e){var t=e.data,a=t.summary,n=t.genderData,r=t.boroData.value.map((function(e,t){return e[t]})),o=t.dailyData.value.map((function(e,t){return e[t]})),i=t.testingData.value.map((function(e,t){return e[t]}));l({summary:a,genderData:n,boroData:r,dailyData:o,testingData:i}),h(!1)})).catch((function(e){l(void 0),h(!0),console.log(e)}))}),[]),d)return r.a.createElement(le,null);if(o){var p=o.summary,g=o.dailyData,E=o.genderData,f=o.boroData,b=o.testingData;return r.a.createElement("div",null,r.a.createElement(s.a,{maxWidth:"md"},r.a.createElement(c.a,null),r.a.createElement(z,{name:"NYC",lastUpdated:p.lastUpdated,datasource:"NYC DOH",link:"https://github.com/nychealth/coronavirus-data"}),r.a.createElement(D,{summaryData:p}),r.a.createElement(K,{dailyData:g}),r.a.createElement(ae,{genderData:E,boroData:f}),r.a.createElement(J,{testingData:b})))}return r.a.createElement(s.a,{maxWidth:"md"},r.a.createElement("div",{className:e.spinner},r.a.createElement(ie.a,null)))},me=a(677),ue=a(673),de=Object(m.a)((function(e){return Object(u.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),he=function(){var e=de();return r.a.createElement("div",{className:e.root},r.a.createElement(me.a,{position:"static"},r.a.createElement(ue.a,null,r.a.createElement(p.a,{variant:"h5",className:e.title},"covid19 ",r.a.createElement("strong",null,"NYC")))))};var pe=function(){return r.a.createElement("div",null,r.a.createElement(he,null),r.a.createElement(se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[287,1,2]]]);
//# sourceMappingURL=main.5f8411d7.chunk.js.map